{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "<div style='display:block'>\n",
    "<div align='right' style='margin-bottom:20px; height:50px; width:1000px; background-color:#c50e1f;'></div>\n",
    "<div align='left' style=' position:relative; top:10px; margin:4px;'>\n",
    "<b>Technische Universität Berlin</b><br>\n",
    "<b>Fakultät Wirtschaft & Management</b><br>\n",
    "<b>Volkswirtschaftslehre und Wirtschaftsrecht</b><br>\n",
    "<b>Fachgebiet für Ökonometrie und Wirtschaftsstatistik</b><br>\n",
    "<b>Online R Labor Statistik II</b><br>\n",
    "</div><br>\n",
    "<img width='200' height='147' style='position:absolute; top:70px; right:9px;' src='https://tukuz.com/wp-content/uploads/2019/07/tu-berlin-technische-universitaet-berlin-logo-vector.png' alt='TUB' >\n",
    "<hr style='display:block;margin-bottom:20px; height:5px; position:relative; top:00px; width:1000px; background-color:#c50e1f; '>\n",
    "</div>"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Übung_03_II (Daten formatieren, Faktoren und Funktionen schreiben)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Daten formatieren\n",
    "\n",
    "Viele in der Statistik erhobenen Daten sind zu Beginn unsortiert und sehr unleserlich. *R* hilft uns dabei große Datensätze mit wenigen Befehlen zu formatieren und auszuwerten."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Datentyp \"factor\"\n",
    "\n",
    "Durch die Funktion `factor()` ist es möglich Vektoren als Objekt der Klasse *factor* umzuwandeln. Sie zeigen die verschiedenen Ausprägungen eines Datensatzes. Die Funktion ist folgendermaßen aufgebaut: \n",
    "\n",
    "$> factor(x=\\textit{'Vektor'},\\ levels=\\textit{'Ausprägungen'},\\ labels=levels) $\n",
    "\n",
    "\n",
    "Die Ausprägungen sind die '*levels*' und deren Bezeichung sind die '*labels*'."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>blond</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>blond</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'blond'</li>\n",
       "\t\t<li>'braun'</li>\n",
       "\t\t<li>'schwarz'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item schwarz\n",
       "\\item blond\n",
       "\\item braun\n",
       "\\item schwarz\n",
       "\\item braun\n",
       "\\item braun\n",
       "\\item schwarz\n",
       "\\item braun\n",
       "\\item braun\n",
       "\\item blond\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item 'blond'\n",
       "\\item 'braun'\n",
       "\\item 'schwarz'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. schwarz\n",
       "2. blond\n",
       "3. braun\n",
       "4. schwarz\n",
       "5. braun\n",
       "6. braun\n",
       "7. schwarz\n",
       "8. braun\n",
       "9. braun\n",
       "10. blond\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. 'blond'\n",
       "2. 'braun'\n",
       "3. 'schwarz'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] schwarz blond   braun   schwarz braun   braun   schwarz braun   braun  \n",
       "[10] blond  \n",
       "Levels: blond braun schwarz"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "haarfarbe <- c(\"schwarz\",\"blond\",\"braun\",\"schwarz\",\"braun\",\"braun\",\"schwarz\",\"braun\",\"braun\",\"blond\")\n",
    "(hFarbe <- factor(haarfarbe))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Falls die Ausprägungen der 'faktor' Objekte anders bezeichnet werden sollen, können diese durch das *label* manuell geändert werden:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>3</li>\n",
       "\t<li>1</li>\n",
       "\t<li>2</li>\n",
       "\t<li>3</li>\n",
       "\t<li>2</li>\n",
       "\t<li>2</li>\n",
       "\t<li>3</li>\n",
       "\t<li>2</li>\n",
       "\t<li>2</li>\n",
       "\t<li>3</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 3\n",
       "\\item 1\n",
       "\\item 2\n",
       "\\item 3\n",
       "\\item 2\n",
       "\\item 2\n",
       "\\item 3\n",
       "\\item 2\n",
       "\\item 2\n",
       "\\item 3\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 3\n",
       "2. 1\n",
       "3. 2\n",
       "4. 3\n",
       "5. 2\n",
       "6. 2\n",
       "7. 3\n",
       "8. 2\n",
       "9. 2\n",
       "10. 3\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] 3 1 2 3 2 2 3 2 2 3"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>blond</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>schwarz</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'blond'</li>\n",
       "\t\t<li>'braun'</li>\n",
       "\t\t<li>'schwarz'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item schwarz\n",
       "\\item blond\n",
       "\\item braun\n",
       "\\item schwarz\n",
       "\\item braun\n",
       "\\item braun\n",
       "\\item schwarz\n",
       "\\item braun\n",
       "\\item braun\n",
       "\\item schwarz\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item 'blond'\n",
       "\\item 'braun'\n",
       "\\item 'schwarz'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. schwarz\n",
       "2. blond\n",
       "3. braun\n",
       "4. schwarz\n",
       "5. braun\n",
       "6. braun\n",
       "7. schwarz\n",
       "8. braun\n",
       "9. braun\n",
       "10. schwarz\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. 'blond'\n",
       "2. 'braun'\n",
       "3. 'schwarz'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] schwarz blond   braun   schwarz braun   braun   schwarz braun   braun  \n",
       "[10] schwarz\n",
       "Levels: blond braun schwarz"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "(haarZahlen <- c(3,1,2,3,2,2,3,2,2,3)) #blond = 1; braun = 2; schwarz = 3\n",
    "factor(x=haarZahlen,labels =c(\"blond\",\"braun\",\"schwarz\"))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Die Ausprägungen können auch nachträglich umbenannt werden. Durch die Funktion `levels('Faktor')` lassen sich die Ausprägungen anzeigen:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>'blond'</li>\n",
       "\t<li>'braun'</li>\n",
       "\t<li>'schwarz'</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 'blond'\n",
       "\\item 'braun'\n",
       "\\item 'schwarz'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 'blond'\n",
       "2. 'braun'\n",
       "3. 'schwarz'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] \"blond\"   \"braun\"   \"schwarz\""
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>'gülden'</li>\n",
       "\t<li>'bräunlich'</li>\n",
       "\t<li>'dunkel'</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 'gülden'\n",
       "\\item 'bräunlich'\n",
       "\\item 'dunkel'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 'gülden'\n",
       "2. 'bräunlich'\n",
       "3. 'dunkel'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] \"gülden\"    \"bräunlich\" \"dunkel\"   "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "levels(hFarbe)\n",
    "(levels(hFarbe) <- c(\"gülden\",\"bräunlich\",\"dunkel\"))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Um mögliche Ausprägungen zu ergänzen, die zwar nicht im Objekt vorkommen, jedoch in der Grundgesamtheit enthalten sind, können diese *level* ergänzt werden:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>blond</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>schwarz</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>braun</li>\n",
       "\t<li>blond</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'blond'</li>\n",
       "\t\t<li>'braun'</li>\n",
       "\t\t<li>'schwarz'</li>\n",
       "\t\t<li>'rot'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item schwarz\n",
       "\\item blond\n",
       "\\item braun\n",
       "\\item schwarz\n",
       "\\item braun\n",
       "\\item braun\n",
       "\\item schwarz\n",
       "\\item braun\n",
       "\\item braun\n",
       "\\item blond\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item 'blond'\n",
       "\\item 'braun'\n",
       "\\item 'schwarz'\n",
       "\\item 'rot'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. schwarz\n",
       "2. blond\n",
       "3. braun\n",
       "4. schwarz\n",
       "5. braun\n",
       "6. braun\n",
       "7. schwarz\n",
       "8. braun\n",
       "9. braun\n",
       "10. blond\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. 'blond'\n",
       "2. 'braun'\n",
       "3. 'schwarz'\n",
       "4. 'rot'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] schwarz blond   braun   schwarz braun   braun   schwarz braun   braun  \n",
       "[10] blond  \n",
       "Levels: blond braun schwarz rot"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>'blond'</li>\n",
       "\t<li>'braun'</li>\n",
       "\t<li>'schwarz'</li>\n",
       "\t<li>'rot'</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 'blond'\n",
       "\\item 'braun'\n",
       "\\item 'schwarz'\n",
       "\\item 'rot'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 'blond'\n",
       "2. 'braun'\n",
       "3. 'schwarz'\n",
       "4. 'rot'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] \"blond\"   \"braun\"   \"schwarz\" \"rot\"    "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Ergänzung vorher\n",
    "hFarbe <- factor(x=haarfarbe,levels=c(\"blond\", \"braun\", \"schwarz\", \"rot\")); hFarbe\n",
    "\n",
    "# oder Ergänzung nachträglich\n",
    "levels(hFarbe) <- c(levels(hFarbe), \"rot\"); levels(hFarbe)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Hier sind weitere Funktionen um Informationen über die Ausprägungen zu erhalten. Mehr gibt es in Wollschläger (2016) - Kapitel 3.5."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "4"
      ],
      "text/latex": [
       "4"
      ],
      "text/markdown": [
       "4"
      ],
      "text/plain": [
       "[1] 4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      " Factor w/ 4 levels \"blond\",\"braun\",..: 3 1 2 3 2 2 3 2 2 1\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<dl class=dl-horizontal>\n",
       "\t<dt>blond</dt>\n",
       "\t\t<dd>2</dd>\n",
       "\t<dt>braun</dt>\n",
       "\t\t<dd>5</dd>\n",
       "\t<dt>schwarz</dt>\n",
       "\t\t<dd>3</dd>\n",
       "\t<dt>rot</dt>\n",
       "\t\t<dd>0</dd>\n",
       "</dl>\n"
      ],
      "text/latex": [
       "\\begin{description*}\n",
       "\\item[blond] 2\n",
       "\\item[braun] 5\n",
       "\\item[schwarz] 3\n",
       "\\item[rot] 0\n",
       "\\end{description*}\n"
      ],
      "text/markdown": [
       "blond\n",
       ":   2braun\n",
       ":   5schwarz\n",
       ":   3rot\n",
       ":   0\n",
       "\n"
      ],
      "text/plain": [
       "  blond   braun schwarz     rot \n",
       "      2       5       3       0 "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>3</li>\n",
       "\t<li>1</li>\n",
       "\t<li>2</li>\n",
       "\t<li>3</li>\n",
       "\t<li>2</li>\n",
       "\t<li>2</li>\n",
       "\t<li>3</li>\n",
       "\t<li>2</li>\n",
       "\t<li>2</li>\n",
       "\t<li>1</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 3\n",
       "\\item 1\n",
       "\\item 2\n",
       "\\item 3\n",
       "\\item 2\n",
       "\\item 2\n",
       "\\item 3\n",
       "\\item 2\n",
       "\\item 2\n",
       "\\item 1\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 3\n",
       "2. 1\n",
       "3. 2\n",
       "4. 3\n",
       "5. 2\n",
       "6. 2\n",
       "7. 3\n",
       "8. 2\n",
       "9. 2\n",
       "10. 1\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] 3 1 2 3 2 2 3 2 2 1\n",
       "attr(,\"levels\")\n",
       "[1] \"blond\"   \"braun\"   \"schwarz\" \"rot\"    "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Anzahl der Ausprägungen\n",
    "nlevels(hFarbe)\n",
    "\n",
    "# Allgemeine Informationen\n",
    "str(hFarbe)\n",
    "summary(hFarbe)\n",
    "\n",
    "# Datensatz ohne \"Level\"\n",
    "unclass(hFarbe)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Sortierter \"factor\" (ordinal)\n",
    "\n",
    "Um Daten als ordinal kenntlich zu machen wird die Funktion `ordered()` genutzt. Der Umgang mit dieser Funktion ist fast identisch zu `factor()`. Es können jedoch zusätzlich Größenverhältnisse bei den realisierten Ausprägungen(levels) festgelegt werden. Hierzu müssen die *levels* in gewollter Reihenfolge als Vektor angegeben werden:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>normal</li>\n",
       "\t<li>gut</li>\n",
       "\t<li>normal</li>\n",
       "\t<li>normal</li>\n",
       "\t<li>gut</li>\n",
       "\t<li>schlecht</li>\n",
       "\t<li>gut</li>\n",
       "\t<li>schlecht</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'schlecht'</li>\n",
       "\t\t<li>'normal'</li>\n",
       "\t\t<li>'gut'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item normal\n",
       "\\item gut\n",
       "\\item normal\n",
       "\\item normal\n",
       "\\item gut\n",
       "\\item schlecht\n",
       "\\item gut\n",
       "\\item schlecht\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item 'schlecht'\n",
       "\\item 'normal'\n",
       "\\item 'gut'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. normal\n",
       "2. gut\n",
       "3. normal\n",
       "4. normal\n",
       "5. gut\n",
       "6. schlecht\n",
       "7. gut\n",
       "8. schlecht\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. 'schlecht'\n",
       "2. 'normal'\n",
       "3. 'gut'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] normal   gut      normal   normal   gut      schlecht gut      schlecht\n",
       "Levels: schlecht < normal < gut"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>'schlecht'</li>\n",
       "\t<li>'normal'</li>\n",
       "\t<li>'gut'</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 'schlecht'\n",
       "\\item 'normal'\n",
       "\\item 'gut'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 'schlecht'\n",
       "2. 'normal'\n",
       "3. 'gut'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] \"schlecht\" \"normal\"   \"gut\"     "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "bewertung <- c(\"normal\",\"gut\",\"normal\",\"normal\",\"gut\",\"schlecht\",\"gut\",\"schlecht\")\n",
    "(Bewertung <- ordered(x=bewertung,levels=c(\"schlecht\",\"normal\",\"gut\")))\n",
    "levels(Bewertung)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Da die Ausprägungen nun verschiedene Wertigkeit zueinander haben können von *R* logische Aussagen über die Daten getroffen werden:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "TRUE"
      ],
      "text/latex": [
       "TRUE"
      ],
      "text/markdown": [
       "TRUE"
      ],
      "text/plain": [
       "[1] TRUE"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "Bewertung[1] < Bewertung[2] # erstes Element ist größer als zweites."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Gruppierte Daten\n",
    "\n",
    "Um Daten zu gruppieren wird die Funktion `cut()` genutzt. Sie wandelt die Daten ebenfalls in ein Objekt der Klasse *factor* um:\n",
    "\n",
    "$>\\ cut(x=\\textit{'Vektor'},\\ breaks=\\textit{'Intervallgrenzen'},\\ labels=\\textit{'Bezeichung'},\\ right=\\textit{TRUE}, ordered=\\textit{FALSE})$\n",
    "\n",
    "Die Intervallgrenzen (Vektor) werden durch *breaks* festgelegt, die Bezeichnung der Intervalle (Vektor) durch *labels*. Durch *ordered* (logical) wird bestimmt, ob der erzeugte *factor* geordnet ist. Da es sich bei den Intervallen immer \"halboffen\" sind, wird durch *right* (logical) in welche Richtung die Intervalle abgeschlossen sind:\n",
    "- right = TRUE $\\Rightarrow$ (0,100]\n",
    "- right = FALSE $\\Rightarrow$ \\[0,100)\n",
    "\n",
    "**Hinweis:** Als Schreibweise werden wir einen rechtsoffenes Intervall (right=F) bevorzugt nutzen."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[7.5,10)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[0,2.5)</li>\n",
       "\t<li>[2.5,5)</li>\n",
       "\t<li>[5,7.5)</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'[0,2.5)'</li>\n",
       "\t\t<li>'[2.5,5)'</li>\n",
       "\t\t<li>'[5,7.5)'</li>\n",
       "\t\t<li>'[7.5,10)'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}5,7.5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}7.5,10)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}0,2.5)\n",
       "\\item {[}2.5,5)\n",
       "\\item {[}5,7.5)\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item '{[}0,2.5)'\n",
       "\\item '{[}2.5,5)'\n",
       "\\item '{[}5,7.5)'\n",
       "\\item '{[}7.5,10)'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. [2.5,5)\n",
       "2. [2.5,5)\n",
       "3. [5,7.5)\n",
       "4. [0,2.5)\n",
       "5. [2.5,5)\n",
       "6. [5,7.5)\n",
       "7. [7.5,10)\n",
       "8. [7.5,10)\n",
       "9. [7.5,10)\n",
       "10. [5,7.5)\n",
       "11. [2.5,5)\n",
       "12. [0,2.5)\n",
       "13. [5,7.5)\n",
       "14. [5,7.5)\n",
       "15. [7.5,10)\n",
       "16. [5,7.5)\n",
       "17. [2.5,5)\n",
       "18. [0,2.5)\n",
       "19. [0,2.5)\n",
       "20. [5,7.5)\n",
       "21. [5,7.5)\n",
       "22. [7.5,10)\n",
       "23. [7.5,10)\n",
       "24. [0,2.5)\n",
       "25. [5,7.5)\n",
       "26. [2.5,5)\n",
       "27. [2.5,5)\n",
       "28. [5,7.5)\n",
       "29. [7.5,10)\n",
       "30. [7.5,10)\n",
       "31. [7.5,10)\n",
       "32. [5,7.5)\n",
       "33. [2.5,5)\n",
       "34. [2.5,5)\n",
       "35. [0,2.5)\n",
       "36. [0,2.5)\n",
       "37. [0,2.5)\n",
       "38. [0,2.5)\n",
       "39. [2.5,5)\n",
       "40. [0,2.5)\n",
       "41. [0,2.5)\n",
       "42. [2.5,5)\n",
       "43. [5,7.5)\n",
       "44. [2.5,5)\n",
       "45. [0,2.5)\n",
       "46. [0,2.5)\n",
       "47. [5,7.5)\n",
       "48. [0,2.5)\n",
       "49. [7.5,10)\n",
       "50. [2.5,5)\n",
       "51. [0,2.5)\n",
       "52. [2.5,5)\n",
       "53. [5,7.5)\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. '[0,2.5)'\n",
       "2. '[2.5,5)'\n",
       "3. '[5,7.5)'\n",
       "4. '[7.5,10)'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] [2.5,5)  [2.5,5)  [5,7.5)  [0,2.5)  [2.5,5)  [5,7.5)  [7.5,10) [7.5,10)\n",
       " [9] [7.5,10) [5,7.5)  [2.5,5)  [0,2.5)  [5,7.5)  [5,7.5)  [7.5,10) [5,7.5) \n",
       "[17] [2.5,5)  [0,2.5)  [0,2.5)  [5,7.5)  [5,7.5)  [7.5,10) [7.5,10) [0,2.5) \n",
       "[25] [5,7.5)  [2.5,5)  [2.5,5)  [5,7.5)  [7.5,10) [7.5,10) [7.5,10) [5,7.5) \n",
       "[33] [2.5,5)  [2.5,5)  [0,2.5)  [0,2.5)  [0,2.5)  [0,2.5)  [2.5,5)  [0,2.5) \n",
       "[41] [0,2.5)  [2.5,5)  [5,7.5)  [2.5,5)  [0,2.5)  [0,2.5)  [5,7.5)  [0,2.5) \n",
       "[49] [7.5,10) [2.5,5)  [0,2.5)  [2.5,5)  [5,7.5) \n",
       "Levels: [0,2.5) [2.5,5) [5,7.5) [7.5,10)"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Bsp:\n",
    "d <- c(4,3,5,1,4,6,8,9,9,6,3,1,5,6,8,5,3,2,2,5,7,8,9,0,6,3,4,6,9,8,9,6,4,3,2,1,1,2,3,2,1,4,7,3,1,0,5,0,8,4,1,3,5)\n",
    "d1<-c(4,3,5,1)\n",
    "b <- c(0,2.5,5,7.5,10) #Intervallgrenzen\n",
    "\n",
    "data <- cut(x=d, breaks=b, right=F) \n",
    "data # Ausgabe"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Absolute Häufigkeiten\n",
    "\n",
    "Um die absoluten Häufigkeiten der Ausprägungen zu ermitteln, wird eine Tabelle erzeugt. Dazu wird die Funktion `table()` genutzt. Man kann eine Tabelle aus Vektoren oder factor-Objekten erstellen. Tabellen sind wie Vektoren eine Datenstruktur. <br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "\n",
       "0 1 2 3 4 5 6 7 8 9 \n",
       "3 7 5 8 6 6 6 2 5 5 "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/plain": [
       "data\n",
       " [0,2.5)  [2.5,5)  [5,7.5) [7.5,10) \n",
       "      15       14       14       10 "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#mithilfe des Datensatz von \"gruppierte Daten\"\n",
    "\n",
    "#Tabelle aus Vektor\n",
    "( factor_table <- table(factor(d)) ) # Tabelle des 'factor'\n",
    "( group_table <- table(data) ) # Tabelle aus gruppiertem 'factor'"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Relative Häufigkeiten\n",
    "\n",
    "Für relative Häufigkeiten wird die Funktion `prop.table()` genutzt. Um die Darstellung der Daten zu verschönern, kann man durch die Funktion <br> `round(x, digits='Zahl')` bestimmen, auf wie viele Nachkommerstellen gerundet wird. <br>\n",
    "**Hinweis:** Die Tabelle der relativen Häufigkeiten muss aus der Häufigkeitstabelle und nicht dem *factor* gebildet werden."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>0.017</li>\n",
       "\t<li>0.013</li>\n",
       "\t<li>0.022</li>\n",
       "\t<li>0.004</li>\n",
       "\t<li>0.017</li>\n",
       "\t<li>0.026</li>\n",
       "\t<li>0.035</li>\n",
       "\t<li>0.039</li>\n",
       "\t<li>0.039</li>\n",
       "\t<li>0.026</li>\n",
       "\t<li>0.013</li>\n",
       "\t<li>0.004</li>\n",
       "\t<li>0.022</li>\n",
       "\t<li>0.026</li>\n",
       "\t<li>0.035</li>\n",
       "\t<li>0.022</li>\n",
       "\t<li>0.013</li>\n",
       "\t<li>0.009</li>\n",
       "\t<li>0.009</li>\n",
       "\t<li>0.022</li>\n",
       "\t<li>0.03</li>\n",
       "\t<li>0.035</li>\n",
       "\t<li>0.039</li>\n",
       "\t<li>0</li>\n",
       "\t<li>0.026</li>\n",
       "\t<li>0.013</li>\n",
       "\t<li>0.017</li>\n",
       "\t<li>0.026</li>\n",
       "\t<li>0.039</li>\n",
       "\t<li>0.035</li>\n",
       "\t<li>0.039</li>\n",
       "\t<li>0.026</li>\n",
       "\t<li>0.017</li>\n",
       "\t<li>0.013</li>\n",
       "\t<li>0.009</li>\n",
       "\t<li>0.004</li>\n",
       "\t<li>0.004</li>\n",
       "\t<li>0.009</li>\n",
       "\t<li>0.013</li>\n",
       "\t<li>0.009</li>\n",
       "\t<li>0.004</li>\n",
       "\t<li>0.017</li>\n",
       "\t<li>0.03</li>\n",
       "\t<li>0.013</li>\n",
       "\t<li>0.004</li>\n",
       "\t<li>0</li>\n",
       "\t<li>0.022</li>\n",
       "\t<li>0</li>\n",
       "\t<li>0.035</li>\n",
       "\t<li>0.017</li>\n",
       "\t<li>0.004</li>\n",
       "\t<li>0.013</li>\n",
       "\t<li>0.022</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 0.017\n",
       "\\item 0.013\n",
       "\\item 0.022\n",
       "\\item 0.004\n",
       "\\item 0.017\n",
       "\\item 0.026\n",
       "\\item 0.035\n",
       "\\item 0.039\n",
       "\\item 0.039\n",
       "\\item 0.026\n",
       "\\item 0.013\n",
       "\\item 0.004\n",
       "\\item 0.022\n",
       "\\item 0.026\n",
       "\\item 0.035\n",
       "\\item 0.022\n",
       "\\item 0.013\n",
       "\\item 0.009\n",
       "\\item 0.009\n",
       "\\item 0.022\n",
       "\\item 0.03\n",
       "\\item 0.035\n",
       "\\item 0.039\n",
       "\\item 0\n",
       "\\item 0.026\n",
       "\\item 0.013\n",
       "\\item 0.017\n",
       "\\item 0.026\n",
       "\\item 0.039\n",
       "\\item 0.035\n",
       "\\item 0.039\n",
       "\\item 0.026\n",
       "\\item 0.017\n",
       "\\item 0.013\n",
       "\\item 0.009\n",
       "\\item 0.004\n",
       "\\item 0.004\n",
       "\\item 0.009\n",
       "\\item 0.013\n",
       "\\item 0.009\n",
       "\\item 0.004\n",
       "\\item 0.017\n",
       "\\item 0.03\n",
       "\\item 0.013\n",
       "\\item 0.004\n",
       "\\item 0\n",
       "\\item 0.022\n",
       "\\item 0\n",
       "\\item 0.035\n",
       "\\item 0.017\n",
       "\\item 0.004\n",
       "\\item 0.013\n",
       "\\item 0.022\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 0.017\n",
       "2. 0.013\n",
       "3. 0.022\n",
       "4. 0.004\n",
       "5. 0.017\n",
       "6. 0.026\n",
       "7. 0.035\n",
       "8. 0.039\n",
       "9. 0.039\n",
       "10. 0.026\n",
       "11. 0.013\n",
       "12. 0.004\n",
       "13. 0.022\n",
       "14. 0.026\n",
       "15. 0.035\n",
       "16. 0.022\n",
       "17. 0.013\n",
       "18. 0.009\n",
       "19. 0.009\n",
       "20. 0.022\n",
       "21. 0.03\n",
       "22. 0.035\n",
       "23. 0.039\n",
       "24. 0\n",
       "25. 0.026\n",
       "26. 0.013\n",
       "27. 0.017\n",
       "28. 0.026\n",
       "29. 0.039\n",
       "30. 0.035\n",
       "31. 0.039\n",
       "32. 0.026\n",
       "33. 0.017\n",
       "34. 0.013\n",
       "35. 0.009\n",
       "36. 0.004\n",
       "37. 0.004\n",
       "38. 0.009\n",
       "39. 0.013\n",
       "40. 0.009\n",
       "41. 0.004\n",
       "42. 0.017\n",
       "43. 0.03\n",
       "44. 0.013\n",
       "45. 0.004\n",
       "46. 0\n",
       "47. 0.022\n",
       "48. 0\n",
       "49. 0.035\n",
       "50. 0.017\n",
       "51. 0.004\n",
       "52. 0.013\n",
       "53. 0.022\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] 0.017 0.013 0.022 0.004 0.017 0.026 0.035 0.039 0.039 0.026 0.013 0.004\n",
       "[13] 0.022 0.026 0.035 0.022 0.013 0.009 0.009 0.022 0.030 0.035 0.039 0.000\n",
       "[25] 0.026 0.013 0.017 0.026 0.039 0.035 0.039 0.026 0.017 0.013 0.009 0.004\n",
       "[37] 0.004 0.009 0.013 0.009 0.004 0.017 0.030 0.013 0.004 0.000 0.022 0.000\n",
       "[49] 0.035 0.017 0.004 0.013 0.022"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "ename": "ERROR",
     "evalue": "Error in prop.table(factor_table): 객체 'factor_table'를 찾을 수 없습니다\n",
     "output_type": "error",
     "traceback": [
      "Error in prop.table(factor_table): 객체 'factor_table'를 찾을 수 없습니다\nTraceback:\n",
      "1. prop.table(factor_table)"
     ]
    }
   ],
   "source": [
    "#Bsp. ohne runden\n",
    "round(prop.table(d),3) #gerundet auf 3 Nachkommastellen \n",
    "prop.table(factor_table)\n",
    "prop.table(group_table)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Faktoren nach Muster erstellen\n",
    "\n",
    "Die Klasse factor existiert, um die Eigenschaften kategorialer Variablen abzubilden.\n",
    "Ein Objekt dieser Klasse nimmt die jeweilige Gruppenzugehörigkeit von Beobachtungsobjekten\n",
    "auf und enthält Informationen darüber, welche Stufen die Variable prinzipiell umfasst.\n",
    "Für den Gebrauch in inferenzstatistischen Analysefunktionen ist es wichtig, dass Gruppierungsvariablen\n",
    "auch tatsächlich die Klasse *factor* besitzen (Wollschläger 2016). "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Zur Einteilung von Beobachtungsobjekten in Gruppen nach festem Muster lassen sich\n",
    "Faktoren alternativ zur manuellen Anwendung von `rep()` und `factor()` automatisiert\n",
    "mit `gl()` erzeugen.\n",
    "\n",
    "$> gl(n=\\langle\\textit{Stufen}\\rangle,\\ k=\\langle\\textit{Zellbesetzung}\\rangle,\\ labels=1:n,\\ ordered=FALSE) $\n",
    "\n",
    "Hierbei gibt '*n*' die Anzahl der Faktorstufen an. Mit '*k*' wird festgelegt, wie häufig jede Faktorstufe realisiert werden soll. Für '*labels*' kann ein Vektor mit so vielen Gruppenbezeichnungen angegeben werden, wie Stufen vorhanden sind. In der Voreinstellung werden die Gruppen numeriert. Um einen geordneten Faktor zu erstellen, ist '*ordered=TRUE*' zu setzen."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>2</li>\n",
       "\t<li>2</li>\n",
       "\t<li>2</li>\n",
       "\t<li>4</li>\n",
       "\t<li>4</li>\n",
       "\t<li>4</li>\n",
       "\t<li>4</li>\n",
       "\t<li>4</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'2'</li>\n",
       "\t\t<li>'4'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 2\n",
       "\\item 2\n",
       "\\item 2\n",
       "\\item 4\n",
       "\\item 4\n",
       "\\item 4\n",
       "\\item 4\n",
       "\\item 4\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item '2'\n",
       "\\item '4'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 2\n",
       "2. 2\n",
       "3. 2\n",
       "4. 4\n",
       "5. 4\n",
       "6. 4\n",
       "7. 4\n",
       "8. 4\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. '2'\n",
       "2. '4'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] 2 2 2 4 4 4 4 4\n",
       "Levels: 2 4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>less</li>\n",
       "\t<li>less</li>\n",
       "\t<li>less</li>\n",
       "\t<li>less</li>\n",
       "\t<li>less</li>\n",
       "\t<li>more</li>\n",
       "\t<li>more</li>\n",
       "\t<li>more</li>\n",
       "\t<li>more</li>\n",
       "\t<li>more</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'less'</li>\n",
       "\t\t<li>'more'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item less\n",
       "\\item less\n",
       "\\item less\n",
       "\\item less\n",
       "\\item less\n",
       "\\item more\n",
       "\\item more\n",
       "\\item more\n",
       "\\item more\n",
       "\\item more\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item 'less'\n",
       "\\item 'more'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. less\n",
       "2. less\n",
       "3. less\n",
       "4. less\n",
       "5. less\n",
       "6. more\n",
       "7. more\n",
       "8. more\n",
       "9. more\n",
       "10. more\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. 'less'\n",
       "2. 'more'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       " [1] less less less less less more more more more more\n",
       "Levels: less < more"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# manuelle Esrtellung mit 2 Gruppen und unterschiedlicher Anzahl von Gruppenzugehörigen\n",
    "(fac1 <- factor(rep(c(2,4), c(3,5)))) \n",
    "\n",
    "# funktion gl(): \"Generate Factor Levels\"\n",
    "# automatisierte Erstellung mit jeweils 5 Gruppenzugehörigen\n",
    "(fac2 <- gl(n=2, k=5, labels=c(\"less\",\"more\"), ordered=TRUE)) "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Kreuzen von Faktoren"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Bei mehreren vollständig gekreuzten Faktoren kann `expand.grid()` verwendet werden, um alle Stufenkombinationen zu erstellen. Das Ergebnis ist ein *data.frame*."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>a</li>\n",
       "\t<li>a</li>\n",
       "\t<li>b</li>\n",
       "\t<li>b</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'a'</li>\n",
       "\t\t<li>'b'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item a\n",
       "\\item a\n",
       "\\item b\n",
       "\\item b\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item 'a'\n",
       "\\item 'b'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. a\n",
       "2. a\n",
       "3. b\n",
       "4. b\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. 'a'\n",
       "2. 'b'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] a a b b\n",
       "Levels: a b"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>0</li>\n",
       "\t<li>0</li>\n",
       "\t<li>0</li>\n",
       "\t<li>1</li>\n",
       "\t<li>1</li>\n",
       "\t<li>1</li>\n",
       "</ol>\n",
       "\n",
       "<details>\n",
       "\t<summary style=display:list-item;cursor:pointer>\n",
       "\t\t<strong>Levels</strong>:\n",
       "\t</summary>\n",
       "\t<ol class=list-inline>\n",
       "\t\t<li>'0'</li>\n",
       "\t\t<li>'1'</li>\n",
       "\t</ol>\n",
       "</details>"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 0\n",
       "\\item 0\n",
       "\\item 0\n",
       "\\item 1\n",
       "\\item 1\n",
       "\\item 1\n",
       "\\end{enumerate*}\n",
       "\n",
       "\\emph{Levels}: \\begin{enumerate*}\n",
       "\\item '0'\n",
       "\\item '1'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 0\n",
       "2. 0\n",
       "3. 0\n",
       "4. 1\n",
       "5. 1\n",
       "6. 1\n",
       "\n",
       "\n",
       "\n",
       "**Levels**: 1. '0'\n",
       "2. '1'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] 0 0 0 1 1 1\n",
       "Levels: 0 1"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>V1</th><th scope=col>V2</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>a</td><td>0</td></tr>\n",
       "\t<tr><td>a</td><td>0</td></tr>\n",
       "\t<tr><td>b</td><td>0</td></tr>\n",
       "\t<tr><td>b</td><td>0</td></tr>\n",
       "\t<tr><td>a</td><td>0</td></tr>\n",
       "\t<tr><td>a</td><td>0</td></tr>\n",
       "\t<tr><td>b</td><td>0</td></tr>\n",
       "\t<tr><td>b</td><td>0</td></tr>\n",
       "\t<tr><td>a</td><td>0</td></tr>\n",
       "\t<tr><td>a</td><td>0</td></tr>\n",
       "\t<tr><td>b</td><td>0</td></tr>\n",
       "\t<tr><td>b</td><td>0</td></tr>\n",
       "\t<tr><td>a</td><td>1</td></tr>\n",
       "\t<tr><td>a</td><td>1</td></tr>\n",
       "\t<tr><td>b</td><td>1</td></tr>\n",
       "\t<tr><td>b</td><td>1</td></tr>\n",
       "\t<tr><td>a</td><td>1</td></tr>\n",
       "\t<tr><td>a</td><td>1</td></tr>\n",
       "\t<tr><td>b</td><td>1</td></tr>\n",
       "\t<tr><td>b</td><td>1</td></tr>\n",
       "\t<tr><td>a</td><td>1</td></tr>\n",
       "\t<tr><td>a</td><td>1</td></tr>\n",
       "\t<tr><td>b</td><td>1</td></tr>\n",
       "\t<tr><td>b</td><td>1</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|ll}\n",
       " V1 & V2\\\\\n",
       "\\hline\n",
       "\t a & 0\\\\\n",
       "\t a & 0\\\\\n",
       "\t b & 0\\\\\n",
       "\t b & 0\\\\\n",
       "\t a & 0\\\\\n",
       "\t a & 0\\\\\n",
       "\t b & 0\\\\\n",
       "\t b & 0\\\\\n",
       "\t a & 0\\\\\n",
       "\t a & 0\\\\\n",
       "\t b & 0\\\\\n",
       "\t b & 0\\\\\n",
       "\t a & 1\\\\\n",
       "\t a & 1\\\\\n",
       "\t b & 1\\\\\n",
       "\t b & 1\\\\\n",
       "\t a & 1\\\\\n",
       "\t a & 1\\\\\n",
       "\t b & 1\\\\\n",
       "\t b & 1\\\\\n",
       "\t a & 1\\\\\n",
       "\t a & 1\\\\\n",
       "\t b & 1\\\\\n",
       "\t b & 1\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| V1 | V2 |\n",
       "|---|---|\n",
       "| a | 0 |\n",
       "| a | 0 |\n",
       "| b | 0 |\n",
       "| b | 0 |\n",
       "| a | 0 |\n",
       "| a | 0 |\n",
       "| b | 0 |\n",
       "| b | 0 |\n",
       "| a | 0 |\n",
       "| a | 0 |\n",
       "| b | 0 |\n",
       "| b | 0 |\n",
       "| a | 1 |\n",
       "| a | 1 |\n",
       "| b | 1 |\n",
       "| b | 1 |\n",
       "| a | 1 |\n",
       "| a | 1 |\n",
       "| b | 1 |\n",
       "| b | 1 |\n",
       "| a | 1 |\n",
       "| a | 1 |\n",
       "| b | 1 |\n",
       "| b | 1 |\n",
       "\n"
      ],
      "text/plain": [
       "   V1 V2\n",
       "1  a  0 \n",
       "2  a  0 \n",
       "3  b  0 \n",
       "4  b  0 \n",
       "5  a  0 \n",
       "6  a  0 \n",
       "7  b  0 \n",
       "8  b  0 \n",
       "9  a  0 \n",
       "10 a  0 \n",
       "11 b  0 \n",
       "12 b  0 \n",
       "13 a  1 \n",
       "14 a  1 \n",
       "15 b  1 \n",
       "16 b  1 \n",
       "17 a  1 \n",
       "18 a  1 \n",
       "19 b  1 \n",
       "20 b  1 \n",
       "21 a  1 \n",
       "22 a  1 \n",
       "23 b  1 \n",
       "24 b  1 "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "gl(n=2, k=2, labels=c(\"a\", \"b\")) \n",
    "gl(n=2, k=3, labels=c(0,1))\n",
    "\n",
    "expand.grid(V1=gl(n=2, k=2, labels=c(\"a\", \"b\")), V2=gl(n=2, k=3, labels=c(0,1)))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Aufzählen von Variationen mit Wiederholung"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "R ermöglicht somit neben dem Abzählen von Kombinationen und Variationen mithilfe von *choose(n,k)* bzw. *$n^k$* auch das Auflisten der Variationen. So können mithilfe der Funktion `expand.grid()` mögliche Stichproben mit Zurücklegen aus einer Grundgesamtheit aufgelistet werden. Die einzelnen möglichen Stichproben erscheinen als Vektor in einer Zeile. Das Ergebnis ist ein *data.frame*."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th></th><th scope=col>Alter</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><th scope=row>Person 1</th><td>20</td></tr>\n",
       "\t<tr><th scope=row>Person 2</th><td>22</td></tr>\n",
       "\t<tr><th scope=row>Person 3</th><td>24</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|l}\n",
       "  & Alter\\\\\n",
       "\\hline\n",
       "\tPerson 1 & 20\\\\\n",
       "\tPerson 2 & 22\\\\\n",
       "\tPerson 3 & 24\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| <!--/--> | Alter |\n",
       "|---|---|\n",
       "| Person 1 | 20 |\n",
       "| Person 2 | 22 |\n",
       "| Person 3 | 24 |\n",
       "\n"
      ],
      "text/plain": [
       "         Alter\n",
       "Person 1 20   \n",
       "Person 2 22   \n",
       "Person 3 24   "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>Var1</th><th scope=col>Var2</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>20</td><td>20</td></tr>\n",
       "\t<tr><td>22</td><td>20</td></tr>\n",
       "\t<tr><td>24</td><td>20</td></tr>\n",
       "\t<tr><td>20</td><td>22</td></tr>\n",
       "\t<tr><td>22</td><td>22</td></tr>\n",
       "\t<tr><td>24</td><td>22</td></tr>\n",
       "\t<tr><td>20</td><td>24</td></tr>\n",
       "\t<tr><td>22</td><td>24</td></tr>\n",
       "\t<tr><td>24</td><td>24</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|ll}\n",
       " Var1 & Var2\\\\\n",
       "\\hline\n",
       "\t 20 & 20\\\\\n",
       "\t 22 & 20\\\\\n",
       "\t 24 & 20\\\\\n",
       "\t 20 & 22\\\\\n",
       "\t 22 & 22\\\\\n",
       "\t 24 & 22\\\\\n",
       "\t 20 & 24\\\\\n",
       "\t 22 & 24\\\\\n",
       "\t 24 & 24\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| Var1 | Var2 |\n",
       "|---|---|\n",
       "| 20 | 20 |\n",
       "| 22 | 20 |\n",
       "| 24 | 20 |\n",
       "| 20 | 22 |\n",
       "| 22 | 22 |\n",
       "| 24 | 22 |\n",
       "| 20 | 24 |\n",
       "| 22 | 24 |\n",
       "| 24 | 24 |\n",
       "\n"
      ],
      "text/plain": [
       "  Var1 Var2\n",
       "1 20   20  \n",
       "2 22   20  \n",
       "3 24   20  \n",
       "4 20   22  \n",
       "5 22   22  \n",
       "6 24   22  \n",
       "7 20   24  \n",
       "8 22   24  \n",
       "9 24   24  "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# definiere hypothetische Grundgesamtheit mit N=3 (siehe Aufgabe I6)\n",
    "grundgesamtheit <- matrix(c(20,22,24), nrow=3)\n",
    "colnames(grundgesamtheit) <- \"Alter\"\n",
    "rownames(grundgesamtheit) <- c(\"Person 1\", \"Person 2\", \"Person 3\")\n",
    "grundgesamtheit\n",
    "\n",
    "# Auflistung aller möglichen Stichprobenergebnisse bei einer Stichprobe mit Zurücklegen vom Umfang n=2\n",
    "stichproben_kombinationen <- expand.grid(grundgesamtheit[,\"Alter\"], grundgesamtheit[,\"Alter\"])\n",
    "stichproben_kombinationen"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Funktionen selbst schreiben\n",
    "\n",
    "Sie haben in R die Möglichkeit durch die Funktion `function(){}` ihre eigenen Funktionen zu schreiben, so dass sie bestimmte Abfolgen an Code abkürzen und schneller rechnen können. Da das Schreiben von eigenen Funktionen sehr schnell kompliziert werden kann, werden wir dieses Thema vorerst kurz und einfach halten. <br>\n",
    "Sie haben die Möglichkeit in ihrer Funktion variable Argumente zu fordern und ebenso Standards für Argumente festzulegen. <br>\n",
    "`function(){}` besteht aus der Parameterübergabe in den runden Klammern `()` und der Logik in den geschweiften Klammern `{}`."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Code-Block der Funktion\n",
    "\n",
    "Das Erstellen von eigenen Funktionen ermöglicht es mehrere Zeilen von Code nacheinander als einen großen Block auszuführen. Hierbei ist es egal, ob man Logik, Variablen oder sogar andere Funktionen in seinem Block implementiert. Es ist auch möglich neue Variablen zu erschaffen, die für den Block der Funktion genutzt werden können. Die Funktion selbst ist in R in einer Variablen gespeichert. <br>\n",
    "Man sollte in seinem Codeblock am Ende jeder Zeile ein `;` setzten, um dem Rechner das Ende eines jeden Befehls zu zeigen. <br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "func <- function(){  # Funktion einer Variable 'func' zuordnen\n",
    "    var <- 6;   # interne Variable\n",
    "    print(var); # Funktion 'print()' aufrufen\n",
    "    var <-  var + 1;\n",
    "    return(var); \n",
    "}"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Hinweis:** Mit dem Befehl `print()` ist es möglich Nachrichten auszugeben. Mit `return()` wird das Ergebnis zurückgegeben. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Argumente übergeben\n",
    "\n",
    "Es ist möglich seiner Funktion bestimmte Argumente zu übergeben, mit denen anschließend gerechnet wird. Die Übergabe aller Argumente an die Funktion findet in den runden Klammern `()` statt. Hierbei können die Arumente direkt definiert werden über `argument = 'Wert'` oder in definierter Reihenfolge eingegeben werden: <br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "addieren <- function(a,b){\n",
    "    \n",
    "    result = (a+b);\n",
    "    \n",
    "    return(result);\n",
    "}\n",
    "\n",
    "# Eingabe der Argumente in definierter Reihenfolge\n",
    "addieren(1,6)\n",
    "\n",
    "# Implizites festlegen der Argumente\n",
    "addieren(b = 1, a = 4)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Funktionen aufrufen\n",
    "\n",
    "Um eine selbst gebaute Funktion zu nutzen, müssen am Ende der Funktion immer zwei runde Klammern `()` stehen. Nur so erkennt R, dass es sich um einen Funktionsaufruf handelt. <br>\n",
    "Falls die Klammern nicht geschrieben werden, wird nur der Inhalt der Funktion zurückgegeben. <br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "ename": "ERROR",
     "evalue": "Error in func(): 함수 \"func\"를 찾을 수 없습니다\n",
     "output_type": "error",
     "traceback": [
      "Error in func(): 함수 \"func\"를 찾을 수 없습니다\nTraceback:\n"
     ]
    }
   ],
   "source": [
    "# Funktionsaufruf\n",
    "func()\n",
    "\n",
    "\n",
    "# Inhalt der Funktion \n",
    "func"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Standard Variablen definieren\n",
    "\n",
    "Man kann für bestimmte Variablen einer Funktion auch einen Standardwert definieren. Dieser Wert wird immer von der Funktion eingesetzt, falls die Variable bei Funktionsaufruf nicht definiert wurde. Falls kein Stanardargument definiert wird ist der Wert des Arguments *NULL*<br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Gaus-Summe berechnen. Wenn kein Argument übergeben wird, ist der Standard n=100:\n",
    "gaus <- function(n = 100){\n",
    "    g <- ( n*(n+1) )/2;    # Berechnen der Gaussumme\n",
    "    \n",
    "    print(\"Gaussumme\");    # Zwischennachricht\n",
    "    return(g);\n",
    "}\n",
    "\n",
    "### Testen ###\n",
    "\n",
    "# Aufbau der Funtion\n",
    "gaus\n",
    "\n",
    "# Mit Standardargument n = 100\n",
    "gaus()\n",
    "#Mit eigenem Argument n = 15\n",
    "gaus(n=15)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Logische Operatoren in Funktionen\n",
    "\n",
    "Um in R selbst erstellte Funktionen mehr gestalten zu können, werden logische Abfragen und Regeln festgelegt."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### if-Abfrage\n",
    "\n",
    "Eine *if-Abfrage* stellt eine Verbindung zwischen einer Bedingung und Konsequenz dar. Mit anderen Worten: wenn \\[dies\\] wahr ist, dann tue \\[das\\]. Eine *if-Abfrage* wird durch die Funktion `if(){}` erstellt. In die runden Klammern kommt die Bedingung und in die geschweiften Klammern die Konsequenz. <br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Wenn 1 < 3 , dann schreibe \"1 ist kleiner drei\"\n",
    "if (1 < 3){ \"1 ist kleiner als drei\" }\n",
    "\n",
    "# Vektoren erstellen\n",
    "\"Vor if-Abfrage\"\n",
    "a <- 3; a\n",
    "b <- 5; b\n",
    "\n",
    "# wenn a < b , dann setzte a <- b\n",
    "if (a < b){\n",
    "    a <- b\n",
    "}\n",
    "\"Nach if-Abfrage\"\n",
    "a; b"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Erweiterung durch 'else'\n",
    "\n",
    "Es ist möglich eine if-Abfrage durch eine zweite Konsequenz zu erweitern. Hierzu wird die Funktion `else{}` genutzt. Diese Zweite Konsequenz tifft ein, wenn die *if-Abfrage* es nicht tut. Es ist nur möglich eine *else-Abfrage* in Verbindung mit einer *if-Abfrage* zu nutzen. <br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Vektoren erstellen\n",
    "\"Vor if-Abfrage\"\n",
    "a <- 3; a\n",
    "b <- 5; b\n",
    "\n",
    "\n",
    "# zu verstehen als: a,b <- min(a,b)\n",
    "\n",
    "if (a > b){a <- b} else {b <- a}\n",
    "\"Nach if-Abfrage\"\n",
    "a; b"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### while-Schleife\n",
    "\n",
    "In einer while-Schleife wird ein festgelegter Befehlsblock so lange ausgeführt, wie eine bestimmte Bedingung gilt. Ähnlich zur if-Abfrage wird die *while-Schleife* mit `while(){}` definiert. In den runden Klammern steht die Bedingung und in den geschweiften Klammern der auszuführende Befehlsblock. Die einzelnen Befehle im Befehlsblock werden durch ein Semikolon getrennt. <br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# solange num < 100, erhöhe num um eins:\n",
    "(num <- 0)\n",
    "\n",
    "while(num < 100){num <- num + 1}\n",
    "num\n",
    "\n",
    "# solange num > 95, schreibe num und rechne num-1\n",
    "while(num > 95){print(num); num <- num-1}"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### for-Schleife\n",
    "\n",
    "Eine for-Schleife ist eine Erweiterung der while-Schleife. Mit ihr ist es möglich einen Befehlsblock bestimmt häufig auszuführen. Erstellt wird eine *for-Scheife* mit `for(i in n:m){}`. Hier bei läuft die Laufvariable *$\\textit{i}$ von $\\textit{n}$ bis $\\textit{m}$* und führt bei jeder Erhöhung den Befehlsblock in den geschweiften Klammern aus. <br>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Nutztung der Laufvariable\n",
    "\"for-Scheife 1\"\n",
    "for (i in 1:5){print(i)}\n",
    "\n",
    "\n",
    "# for-Scheife mit externer Variable\n",
    "x <- 0\n",
    "\"for-Scheife 2\"\n",
    "for (i in 1:5){x <- x+1; print(x)}\n",
    "\n",
    "# vergleich, Darstellung durch while-Scheife\n",
    "x <- 0\n",
    "\"while-Schleife\"\n",
    "while(x < 5){x <- x+1; print(x)}"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### repeat-Scheife\n",
    "\n",
    "Bei der repeat-Schleife wird ein bestimmter Befehlsblock so lange wiederholt, bis er durch eine *if-Bedingung* abgebrochen wird. Die repeat-Scheife muss explizit durch den Befehl *break* unterbrochen werden, sonst würde sie unendlich lange weiterlaufen. Eine repeat-Scheife wird mit `repeat{}` angegeben."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[1] 0\n",
      "[1] 1\n",
      "[1] 2\n",
      "[1] 3\n",
      "[1] 4\n",
      "[1] 5\n"
     ]
    }
   ],
   "source": [
    "x <- 0\n",
    "repeat{ print(x); x <- x+1; if(x > 5){break} }"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Übungsaufgaben_03_II\n",
    "\n",
    "### 1. Aufgabe I6 mit R\n",
    "\n",
    "Aus einer Grundgesamtheit von $N=3$ Personen mit den Lebensaltern 20, 22 und 24 Jahren wird eine Zufallsstichprobe vom Umfang $n=2$ (mit Zurücklegen) gezogen. Sei $X$: \"Lebensalter [in  Jahren]\".\n",
    "\n",
    "1. Berechne das arithmetische Mittel $μ$ (d. h. das mittlere Lebensalter der Personen in der Grundgesamtheit ) und die Varianz $σ^2$ (d. h. die Streuung des Lebensalters der Personen in der Grundgesamtheit). Hinweis: Nutze hierfür **nicht** die in R eingebaute Funktion `var()`, da diese etwas anderes berechnet (siehe Aufgabe 2.).\n",
    "- Liste alle möglichen Stichprobenergebnisse $(x_1, x_2)$ auf.\n",
    "- Auf wie viele Arten kann sich die theoretische Stichprobe $(X_1, X_2)$ realisieren?\n",
    "- Bestimme tabellarisch die Wahrscheinlichkeitsverteilungen, Erwartungswert und Varianz für die in I6 gegebenen  Stichprobenfunktionen $f(X_1, X_2)$:\n",
    "\n",
    "    - $Y=\\sum_{i=1}^{2} X_i$\n",
    "    \n",
    "    - $\\bar{X}=\\frac{1}{2}\\cdot\\sum_{i=1}^{2} X_i$\n",
    "    \n",
    "    - $Z^2=\\frac{1}{2}\\cdot\\sum_{i=1}^{2} (X_i-\\bar{X})^2$\n",
    "    \n",
    "    - $S^2=\\frac{1}{2-1}\\cdot\\sum_{i=1}^{2} (X_i-\\bar{X})^2$"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th></th><th scope=col>Alter</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><th scope=row>Person1</th><td>20</td></tr>\n",
       "\t<tr><th scope=row>Person2</th><td>22</td></tr>\n",
       "\t<tr><th scope=row>Person3</th><td>24</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|l}\n",
       "  & Alter\\\\\n",
       "\\hline\n",
       "\tPerson1 & 20\\\\\n",
       "\tPerson2 & 22\\\\\n",
       "\tPerson3 & 24\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| <!--/--> | Alter |\n",
       "|---|---|\n",
       "| Person1 | 20 |\n",
       "| Person2 | 22 |\n",
       "| Person3 | 24 |\n",
       "\n"
      ],
      "text/plain": [
       "        Alter\n",
       "Person1 20   \n",
       "Person2 22   \n",
       "Person3 24   "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "22"
      ],
      "text/latex": [
       "22"
      ],
      "text/markdown": [
       "22"
      ],
      "text/plain": [
       "[1] 22"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "2.66666666666667"
      ],
      "text/latex": [
       "2.66666666666667"
      ],
      "text/markdown": [
       "2.66666666666667"
      ],
      "text/plain": [
       "[1] 2.666667"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>Var1</th><th scope=col>Var2</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>20</td><td>20</td></tr>\n",
       "\t<tr><td>22</td><td>20</td></tr>\n",
       "\t<tr><td>24</td><td>20</td></tr>\n",
       "\t<tr><td>20</td><td>22</td></tr>\n",
       "\t<tr><td>22</td><td>22</td></tr>\n",
       "\t<tr><td>24</td><td>22</td></tr>\n",
       "\t<tr><td>20</td><td>24</td></tr>\n",
       "\t<tr><td>22</td><td>24</td></tr>\n",
       "\t<tr><td>24</td><td>24</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|ll}\n",
       " Var1 & Var2\\\\\n",
       "\\hline\n",
       "\t 20 & 20\\\\\n",
       "\t 22 & 20\\\\\n",
       "\t 24 & 20\\\\\n",
       "\t 20 & 22\\\\\n",
       "\t 22 & 22\\\\\n",
       "\t 24 & 22\\\\\n",
       "\t 20 & 24\\\\\n",
       "\t 22 & 24\\\\\n",
       "\t 24 & 24\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| Var1 | Var2 |\n",
       "|---|---|\n",
       "| 20 | 20 |\n",
       "| 22 | 20 |\n",
       "| 24 | 20 |\n",
       "| 20 | 22 |\n",
       "| 22 | 22 |\n",
       "| 24 | 22 |\n",
       "| 20 | 24 |\n",
       "| 22 | 24 |\n",
       "| 24 | 24 |\n",
       "\n"
      ],
      "text/plain": [
       "  Var1 Var2\n",
       "1 20   20  \n",
       "2 22   20  \n",
       "3 24   20  \n",
       "4 20   22  \n",
       "5 22   22  \n",
       "6 24   22  \n",
       "7 20   24  \n",
       "8 22   24  \n",
       "9 24   24  "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "9"
      ],
      "text/latex": [
       "9"
      ],
      "text/markdown": [
       "9"
      ],
      "text/plain": [
       "[1] 9"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>x1</th><th scope=col>x2</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>20</td><td>20</td></tr>\n",
       "\t<tr><td>22</td><td>20</td></tr>\n",
       "\t<tr><td>24</td><td>20</td></tr>\n",
       "\t<tr><td>20</td><td>22</td></tr>\n",
       "\t<tr><td>22</td><td>22</td></tr>\n",
       "\t<tr><td>24</td><td>22</td></tr>\n",
       "\t<tr><td>20</td><td>24</td></tr>\n",
       "\t<tr><td>22</td><td>24</td></tr>\n",
       "\t<tr><td>24</td><td>24</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|ll}\n",
       " x1 & x2\\\\\n",
       "\\hline\n",
       "\t 20 & 20\\\\\n",
       "\t 22 & 20\\\\\n",
       "\t 24 & 20\\\\\n",
       "\t 20 & 22\\\\\n",
       "\t 22 & 22\\\\\n",
       "\t 24 & 22\\\\\n",
       "\t 20 & 24\\\\\n",
       "\t 22 & 24\\\\\n",
       "\t 24 & 24\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| x1 | x2 |\n",
       "|---|---|\n",
       "| 20 | 20 |\n",
       "| 22 | 20 |\n",
       "| 24 | 20 |\n",
       "| 20 | 22 |\n",
       "| 22 | 22 |\n",
       "| 24 | 22 |\n",
       "| 20 | 24 |\n",
       "| 22 | 24 |\n",
       "| 24 | 24 |\n",
       "\n"
      ],
      "text/plain": [
       "  x1 x2\n",
       "1 20 20\n",
       "2 22 20\n",
       "3 24 20\n",
       "4 20 22\n",
       "5 22 22\n",
       "6 24 22\n",
       "7 20 24\n",
       "8 22 24\n",
       "9 24 24"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>x1</th><th scope=col>x2</th><th scope=col>y</th><th scope=col>x_quer</th><th scope=col>z_quadrat</th><th scope=col>s_quadrat</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>20</td><td>20</td><td>40</td><td>20</td><td>0 </td><td>0 </td></tr>\n",
       "\t<tr><td>22</td><td>20</td><td>42</td><td>21</td><td>1 </td><td>2 </td></tr>\n",
       "\t<tr><td>24</td><td>20</td><td>44</td><td>22</td><td>4 </td><td>8 </td></tr>\n",
       "\t<tr><td>20</td><td>22</td><td>42</td><td>21</td><td>1 </td><td>2 </td></tr>\n",
       "\t<tr><td>22</td><td>22</td><td>44</td><td>22</td><td>0 </td><td>0 </td></tr>\n",
       "\t<tr><td>24</td><td>22</td><td>46</td><td>23</td><td>1 </td><td>2 </td></tr>\n",
       "\t<tr><td>20</td><td>24</td><td>44</td><td>22</td><td>4 </td><td>8 </td></tr>\n",
       "\t<tr><td>22</td><td>24</td><td>46</td><td>23</td><td>1 </td><td>2 </td></tr>\n",
       "\t<tr><td>24</td><td>24</td><td>48</td><td>24</td><td>0 </td><td>0 </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|llllll}\n",
       " x1 & x2 & y & x\\_quer & z\\_quadrat & s\\_quadrat\\\\\n",
       "\\hline\n",
       "\t 20 & 20 & 40 & 20 & 0  & 0 \\\\\n",
       "\t 22 & 20 & 42 & 21 & 1  & 2 \\\\\n",
       "\t 24 & 20 & 44 & 22 & 4  & 8 \\\\\n",
       "\t 20 & 22 & 42 & 21 & 1  & 2 \\\\\n",
       "\t 22 & 22 & 44 & 22 & 0  & 0 \\\\\n",
       "\t 24 & 22 & 46 & 23 & 1  & 2 \\\\\n",
       "\t 20 & 24 & 44 & 22 & 4  & 8 \\\\\n",
       "\t 22 & 24 & 46 & 23 & 1  & 2 \\\\\n",
       "\t 24 & 24 & 48 & 24 & 0  & 0 \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| x1 | x2 | y | x_quer | z_quadrat | s_quadrat |\n",
       "|---|---|---|---|---|---|\n",
       "| 20 | 20 | 40 | 20 | 0  | 0  |\n",
       "| 22 | 20 | 42 | 21 | 1  | 2  |\n",
       "| 24 | 20 | 44 | 22 | 4  | 8  |\n",
       "| 20 | 22 | 42 | 21 | 1  | 2  |\n",
       "| 22 | 22 | 44 | 22 | 0  | 0  |\n",
       "| 24 | 22 | 46 | 23 | 1  | 2  |\n",
       "| 20 | 24 | 44 | 22 | 4  | 8  |\n",
       "| 22 | 24 | 46 | 23 | 1  | 2  |\n",
       "| 24 | 24 | 48 | 24 | 0  | 0  |\n",
       "\n"
      ],
      "text/plain": [
       "  x1 x2 y  x_quer z_quadrat s_quadrat\n",
       "1 20 20 40 20     0         0        \n",
       "2 22 20 42 21     1         2        \n",
       "3 24 20 44 22     4         8        \n",
       "4 20 22 42 21     1         2        \n",
       "5 22 22 44 22     0         0        \n",
       "6 24 22 46 23     1         2        \n",
       "7 20 24 44 22     4         8        \n",
       "8 22 24 46 23     1         2        \n",
       "9 24 24 48 24     0         0        "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<tbody>\n",
       "\t<tr><td>40       </td><td>0.1111111</td></tr>\n",
       "\t<tr><td>42       </td><td>0.2222222</td></tr>\n",
       "\t<tr><td>44       </td><td>0.3333333</td></tr>\n",
       "\t<tr><td>46       </td><td>0.2222222</td></tr>\n",
       "\t<tr><td>48       </td><td>0.1111111</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{ll}\n",
       "\t 40        & 0.1111111\\\\\n",
       "\t 42        & 0.2222222\\\\\n",
       "\t 44        & 0.3333333\\\\\n",
       "\t 46        & 0.2222222\\\\\n",
       "\t 48        & 0.1111111\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| 40        | 0.1111111 |\n",
       "| 42        | 0.2222222 |\n",
       "| 44        | 0.3333333 |\n",
       "| 46        | 0.2222222 |\n",
       "| 48        | 0.1111111 |\n",
       "\n"
      ],
      "text/plain": [
       "     [,1] [,2]     \n",
       "[1,] 40   0.1111111\n",
       "[2,] 42   0.2222222\n",
       "[3,] 44   0.3333333\n",
       "[4,] 46   0.2222222\n",
       "[5,] 48   0.1111111"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "44"
      ],
      "text/latex": [
       "44"
      ],
      "text/markdown": [
       "44"
      ],
      "text/plain": [
       "[1] 44"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "5.33333333333333"
      ],
      "text/latex": [
       "5.33333333333333"
      ],
      "text/markdown": [
       "5.33333333333333"
      ],
      "text/plain": [
       "[1] 5.333333"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<tbody>\n",
       "\t<tr><td>20       </td><td>0.1111111</td></tr>\n",
       "\t<tr><td>21       </td><td>0.2222222</td></tr>\n",
       "\t<tr><td>22       </td><td>0.3333333</td></tr>\n",
       "\t<tr><td>23       </td><td>0.2222222</td></tr>\n",
       "\t<tr><td>24       </td><td>0.1111111</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{ll}\n",
       "\t 20        & 0.1111111\\\\\n",
       "\t 21        & 0.2222222\\\\\n",
       "\t 22        & 0.3333333\\\\\n",
       "\t 23        & 0.2222222\\\\\n",
       "\t 24        & 0.1111111\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| 20        | 0.1111111 |\n",
       "| 21        | 0.2222222 |\n",
       "| 22        | 0.3333333 |\n",
       "| 23        | 0.2222222 |\n",
       "| 24        | 0.1111111 |\n",
       "\n"
      ],
      "text/plain": [
       "     [,1] [,2]     \n",
       "[1,] 20   0.1111111\n",
       "[2,] 21   0.2222222\n",
       "[3,] 22   0.3333333\n",
       "[4,] 23   0.2222222\n",
       "[5,] 24   0.1111111"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<tbody>\n",
       "\t<tr><td>0        </td><td>0.3333333</td></tr>\n",
       "\t<tr><td>1        </td><td>0.4444444</td></tr>\n",
       "\t<tr><td>4        </td><td>0.2222222</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{ll}\n",
       "\t 0         & 0.3333333\\\\\n",
       "\t 1         & 0.4444444\\\\\n",
       "\t 4         & 0.2222222\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| 0         | 0.3333333 |\n",
       "| 1         | 0.4444444 |\n",
       "| 4         | 0.2222222 |\n",
       "\n"
      ],
      "text/plain": [
       "     [,1] [,2]     \n",
       "[1,] 0    0.3333333\n",
       "[2,] 1    0.4444444\n",
       "[3,] 4    0.2222222"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<tbody>\n",
       "\t<tr><td>0        </td><td>0.3333333</td></tr>\n",
       "\t<tr><td>2        </td><td>0.4444444</td></tr>\n",
       "\t<tr><td>8        </td><td>0.2222222</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{ll}\n",
       "\t 0         & 0.3333333\\\\\n",
       "\t 2         & 0.4444444\\\\\n",
       "\t 8         & 0.2222222\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| 0         | 0.3333333 |\n",
       "| 2         | 0.4444444 |\n",
       "| 8         | 0.2222222 |\n",
       "\n"
      ],
      "text/plain": [
       "     [,1] [,2]     \n",
       "[1,] 0    0.3333333\n",
       "[2,] 2    0.4444444\n",
       "[3,] 8    0.2222222"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#1.1 모집단 표 만들기\n",
    "grundgesamtheit <- matrix(c(20,22,24),nrow=3)\n",
    "colnames(grundgesamtheit) <- \"Alter\"\n",
    "rownames(grundgesamtheit) <- c(\"Person1\",\"Person2\",\"Person3\")\n",
    "grundgesamtheit\n",
    "\n",
    "#모집단 평균, 분산 구하기\n",
    "n=3\n",
    "mittelwert <- (1/n)*sum(grundgesamtheit[ ,\"Alter\"])\n",
    "varianz <- (1/n)*sum((grundgesamtheit[ ,\"Alter\"]-mean(grundgesamtheit[ ,\"Alter\"]))^2)\n",
    "mittelwert\n",
    "varianz\n",
    "\n",
    "#1.2 1.3 stichprobe 구하기. expand.grid()사용\n",
    "kombination <- expand.grid(grundgesamtheit[ ,\"Alter\"],grundgesamtheit[ ,\"Alter\"])\n",
    "kombination\n",
    "nrow(kombination) #stichprobe의 수 = row의 수\n",
    "\n",
    "#1.4\n",
    "names(kombination) <- c(\"x1\",\"x2\") #각각 x1,x2라고 이름 두기\n",
    "kombination\n",
    "x1 <- kombination$x1 # $ = kombination표에서 x1 원소\n",
    "x2 <- kombination$x2\n",
    "\n",
    "y = x1+x2\n",
    "x_quer = (x1 + x2) / 2\n",
    "z_quadrat = ((x1-x_quer)^2 + (x2-x_quer)^2) / 2\n",
    "s_quadrat = ((x1-x_quer)^2 + (x2-x_quer)^2) / (2-1)\n",
    "\n",
    "auspraegung <- cbind(kombination,y) #kombination표에 y도 합치기\n",
    "auspraegung <- cbind(auspraegung,x_quer) #x_quer도 합치기\n",
    "auspraegung <- cbind(auspraegung,z_quadrat)\n",
    "auspraegung <- cbind(auspraegung,s_quadrat)\n",
    "auspraegung\n",
    "\n",
    "wkt_verteilung_y <- matrix(c(unique(y), as.vector(table(auspraegung$y)/9)), nrow=5) #unique=y의 각각의 원소,sp의 개수=9, auspraegung y의 종류=5종류\n",
    "wkt_verteilung_y\n",
    "erwartungswert_y <- sum(wkt_verteilung_y[ ,1]*wkt_verteilung_y[ ,2])\n",
    "erwartungswert_y\n",
    "varianz_y <- sum((wkt_verteilung_y[ ,1]-erwartungswert_y)^2*wkt_verteilung_y[ ,2])\n",
    "varianz_y\n",
    "\n",
    "wkt_verteilung_x_quer <- matrix( c(unique(x_quer), as.vector(table(auspraegung$x_quer)/9) ), nrow=5 )\n",
    "wkt_verteilung_x_quer\n",
    "\n",
    "wkt_verteilung_z_quadrat <- matrix( c(unique(z_quadrat), as.vector(table(auspraegung$z_quadrat)/9)), nrow=3 )\n",
    "wkt_verteilung_z_quadrat\n",
    "wkt_verteilung_s_quadrat <- matrix( c(unique(s_quadrat), as.vector(table(auspraegung$s_quadrat)/9)), nrow=3 )\n",
    "wkt_verteilung_s_quadrat"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### 2. Varianz-Funktion selbst schreiben\n",
    "\n",
    "1. Schreibe deine eigene Funktion \"varianz\" für die Berechnung der Varianz, bei der ein Vektor als Parameter übergeben wird.\n",
    "- Berechne mit Hilfe der eigens gebauten Funktion die Varianz der Variable \"Lebensalter\" der Grundgesamtheit aus Aufgabe 1 bzw. Aufgabe I6 ($N = 3$).\n",
    "- Berechne die die Varianz der Variable \"Lebensalter\" der Grundgesamtheit mit der in R dafür vorimplementierten Funktion `var()`.\n",
    "- Die Ergebnisse der beiden Funktionen sind unterschiedlich. Woran liegt das bzw. was berechnet die in R eingebaute Funktion `var()` aus?"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th></th><th scope=col>Alter</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><th scope=row>Person1</th><td>20</td></tr>\n",
       "\t<tr><th scope=row>Person2</th><td>22</td></tr>\n",
       "\t<tr><th scope=row>Person3</th><td>24</td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|l}\n",
       "  & Alter\\\\\n",
       "\\hline\n",
       "\tPerson1 & 20\\\\\n",
       "\tPerson2 & 22\\\\\n",
       "\tPerson3 & 24\\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| <!--/--> | Alter |\n",
       "|---|---|\n",
       "| Person1 | 20 |\n",
       "| Person2 | 22 |\n",
       "| Person3 | 24 |\n",
       "\n"
      ],
      "text/plain": [
       "        Alter\n",
       "Person1 20   \n",
       "Person2 22   \n",
       "Person3 24   "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[1] 2.666667\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "2.66666666666667"
      ],
      "text/latex": [
       "2.66666666666667"
      ],
      "text/markdown": [
       "2.66666666666667"
      ],
      "text/plain": [
       "[1] 2.666667"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "4"
      ],
      "text/latex": [
       "4"
      ],
      "text/markdown": [
       "4"
      ],
      "text/plain": [
       "[1] 4"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#모집단 만들기 matrix()\n",
    "grundgesamtheit <- matrix(c(20,22,24), nrow=3)\n",
    "colnames(grundgesamtheit) <- \"Alter\"\n",
    "rownames(grundgesamtheit) <- c(\"Person1\",\"Person2\",\"Person3\")\n",
    "grundgesamtheit\n",
    "\n",
    "#2.1\n",
    "N=3\n",
    "varianz <- function(vec){\n",
    "    mittelwert <- mean(vec)\n",
    "    varianz = sum((vec-mittelwert)^2)/3\n",
    "    \n",
    "    print(varianz)\n",
    "    return(varianz)\n",
    "}\n",
    "\n",
    "#2.2\n",
    "varianz(grundgesamtheit[ ,1])\n",
    "\n",
    "#2.3\n",
    "var(grundgesamtheit[ ,1])\n",
    "\n",
    "#2.4 내가 만든 varianz()함수와 이미 정의되어있는 var()함수의 결과값이 다른이유?\n",
    "#내가 만든 함수는 모집단의 정보로 분산을 바로 계산하지만\n",
    "#var()함수는 SP의 Varianz를 계산하여 모집단의 분산을 예측한다. 즉, var()는 erwartungstreue Schaetzung der Varianz를 계산한다"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "R",
   "language": "R",
   "name": "ir"
  },
  "language_info": {
   "codemirror_mode": "r",
   "file_extension": ".r",
   "mimetype": "text/x-r-source",
   "name": "R",
   "pygments_lexer": "r",
   "version": "3.6.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
